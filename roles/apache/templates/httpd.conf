<VirtualHost *:80>
		ServerName textassembler.lib.msu.edu
		Redirect "/" "https://textassembler.lib.msu.edu/"
</VirtualHost>
<VirtualHost *:443>
		ServerName textassembler.lib.msu.edu

		DocumentRoot /var/www/text-assembler

		SSLEngine on
		SSLCertificateFile /etc/ssl/private/textassembler.crt
		SSLCertificateKeyFile /etc/ssl/private/textassembler.key

		WSGIDaemonProcess textassembler.lib.msu.edu processes=2 threads=15 display-name=textassembler python-home=/var/www/text-assembler/ta_env
		WSGIProcessGroup textassembler.lib.msu.edu
		WSGIScriptAlias / /var/www/text-assembler/textassembler/wsgi.py

		<Directory /var/www/text-assembler/textassembler>
						SetHandler wsgi-script
						DirectoryIndex wsgi.py
						Options +ExecCGI
						Require all granted
		</Directory>

		Alias /static/ /var/www/text-assembler/textassembler_web/static/
		<Directory /var/www/text-assembler/textassembler_web/static>
						Options -Indexes
						Require all granted
		</Directory>

		ErrorLog ${APACHE_LOG_DIR}/textassembler-error.log
		CustomLog ${APACHE_LOG_DIR}/textassembler-access.log combined
</VirtualHost>

